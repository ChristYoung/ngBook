"use strict";(self.webpackChunkngBook=self.webpackChunkngBook||[]).push([[231],{7231:(N,l,r)=>{r.r(l),r.d(l,{LearnDirectiveModule:()=>M});var p=r(6895),g=r(136),a=r(1155),n=r(4650),h=r(8929),b=r(3489),D=r(353);class f{constructor(s,e){this.dueTime=s,this.scheduler=e}call(s,e){return e.subscribe(new C(s,this.dueTime,this.scheduler))}}class C extends b.L{constructor(s,e,i){super(s),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(s){this.clearDebounce(),this.lastValue=s,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(v,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:s}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(s)}}clearDebounce(){const s=this.debouncedSubscription;null!==s&&(this.remove(s),s.unsubscribe(),this.debouncedSubscription=null)}}function v(t){t.debouncedNext()}let k=(()=>{class t{constructor(){this.debounceClick=new n.vpe,this.debounceTime=500,this.clicks=new h.xQ}ngOnInit(){this.subscription=this.clicks.pipe(function m(t,s=D.P){return e=>e.lift(new f(t,s))}(this.debounceTime)).subscribe(e=>this.debounceClick.emit(e))}ngOnDestroy(){this.subscription.unsubscribe()}clickEvent(e){e.preventDefault(),e.stopPropagation(),console.log("click from Host Element"),this.clicks.next(event)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","appDebounceClick",""]],hostBindings:function(e,i){1&e&&n.NdJ("click",function(c){return i.clickEvent(c)})},inputs:{debounceTime:"debounceTime"},outputs:{debounceClick:"debounceClick"}}),t})(),y=(()=>{class t{constructor(){}ngOnInit(){}debounceClickHandler(e){console.log(e),alert("\u5ef6\u8fdf\u4e00\u6bb5\u65f6\u95f4\u540e\u70b9\u51fb\u6309\u94ae\u89e6\u53d1~~~\u6309\u94ae1")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-debounce-click"]],decls:2,vars:1,consts:[["type","button","appDebounceClick","",3,"debounceTime","debounceClick"]],template:function(e,i){1&e&&(n.TgZ(0,"button",0),n.NdJ("debounceClick",function(c){return i.debounceClickHandler(c)}),n._uU(1,"\u5ef6\u8fdf\u70b9\u51fb\u7684\u6309\u94ae"),n.qZA()),2&e&&n.Q6J("debounceTime",2e3)},dependencies:[k]}),t})(),T=(()=>{class t{constructor(e,i){this.el=e,this.rd=i,this._isDraggable=!1}set isDraggable(e){this._isDraggable=e,this.rd.setAttribute(this.el.nativeElement,"draggable",`${e}`)}get isDraggable(){return this._isDraggable}onDragStart(e){this.rd.addClass(this.el.nativeElement,this.draggedClass)}onDragEnd(e){this.rd.removeClass(this.el.nativeElement,this.draggedClass)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.Qsj))},t.\u0275dir=n.lG2({type:t,selectors:[["","appDrag","","draggedClass",""]],hostBindings:function(e,i){1&e&&n.NdJ("dragstart",function(c){return i.onDragStart(c)})("dragend",function(c){return i.onDragEnd(c)})},inputs:{isDraggable:["appDrag","isDraggable"],draggedClass:"draggedClass"}}),t})(),R=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-drag"]],decls:2,vars:2,consts:[[1,"testDrag",3,"appDrag","draggedClass"]],template:function(e,i){1&e&&(n.TgZ(0,"p",0),n._uU(1," \u8fd9\u662f\u4e00\u4e2a\u53ef\u62d6\u62fd\u7684\u5757\n"),n.qZA()),2&e&&n.Q6J("appDrag",!0)("draggedClass","toDrag")},dependencies:[T],styles:[".testDrag[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#4a42dd}.toDrag[_ngcontent-%COMP%]{opacity:.3;border:3px dashed #ff3c17}"]}),t})();var u=r(655);let E=(()=>{class t{constructor(e,i){this.vcr=e,this.tpl=i,this.hasView=!1}set appUnless(e){e||this.hasView?e&&this.hasView&&(this.vcr.clear(),this.hasView=!1):(this.vcr.createEmbeddedView(this.tpl),this.hasView=!0)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","appUnless",""]],inputs:{appUnless:"appUnless"}}),t})(),S=(()=>{class t{constructor(e,i){this.vcr=e,this.tpl=i}set appRange(e){console.log("StructureRangeDirective -> setappRange -> value",e),this.vcr.clear(),this._range=t.getRange(e[0],e[1]),this._range.forEach(i=>{this.vcr.createEmbeddedView(this.tpl,{$implicit:i})})}static getRange(e,i){const o=[];for(let c=e;c<=i;c++)o.push(c);return o}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b),n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","appRange",""]],inputs:{appRange:"appRange"}}),t})();function B(t,s){if(1&t&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&t){const e=s.$implicit;n.xp6(1),n.hij("\u7ed3\u6784\u578b\u6307\u4ee4",e,"")}}function F(t,s){1&t&&(n.TgZ(0,"div"),n._uU(1,"\u5566\u5566\u5566"),n.qZA())}const V=function(){return[6,19]};let d=class{constructor(s,e){this.id=s,this.address=e}};d=(0,u.gn)([(0,u.fM)(0,(0,n.tBr)(class x{})),(0,u.fM)(1,(0,n.tBr)(class w{constructor(s,e){this.city=s,this.street=e}}))],d);const A=g.Bz.forChild([{path:a.W.debounceClick,component:y},{path:a.W.drag,component:R},{path:a.W.range,component:(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-range"]],decls:2,vars:3,consts:[[4,"appRange"],[4,"appUnless"]],template:function(e,i){1&e&&(n.YNc(0,B,2,1,"p",0),n.YNc(1,F,2,0,"div",1)),2&e&&(n.Q6J("appRange",n.DdM(2,V)),n.xp6(1),n.Q6J("appUnless",i.conditon))},dependencies:[E,S]}),t})()}]);let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.ez,A]}),t})()}}]);